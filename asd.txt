<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DaggerHeart Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
</head>

<body>

    <header class="navbar navbar-dark shadow-sm">
        <div class="container-fluid d-flex justify-content-between align-items-center">
            <div class="d-flex align-items-center">
                <!-- Icone à esquerda -->
                <img src="img/dh-icon-logo.png" alt="Logo" class="navbar-icon me-2">
                <a class="navbar-brand fw-bold" href="#">DH GENERATOR</a>
            </div>
            <div id="ficha-count" class="text-white">
                • 0 Personagens
            </div>
        </div>
    </header>

    <main class="container">
        <!-- Seção principal: Cards -->
        <div id="cards-section">
            <h2 class="mb-4" style="color: #fff;">Minhas Fichas</h2>
            <div class="card-grid" id="cards-container"></div>
        </div>

        <!-- Seção da ficha individual -->
        <div id="ficha-section" class="hidden">
            <div class="buttons-wrapper">
                <button class="btn btn-secondary mb-3 btn-back" onclick="backToCards()">Voltar</button>

                <button class="btn btn-secondary mb-3 btn-back p" onclick="saveFicha()">Salvar</button>
            </div>

            <div class="ficha-section p-4">
                <ul class="nav nav-tabs" id="fichaTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="info-tab" data-bs-toggle="tab" data-bs-target="#info"
                            type="button" role="tab">Informações</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="atributos-tab" data-bs-toggle="tab" data-bs-target="#atributos"
                            type="button" role="tab">Atributos & Evasao</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="dano-tab" data-bs-toggle="tab" data-bs-target="#dano" type="button"
                            role="tab">Dano & Vida</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="recursos-tab" data-bs-toggle="tab" data-bs-target="#recursos"
                            type="button" role="tab">Recursos</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="itens-tab" data-bs-toggle="tab" data-bs-target="#itens"
                            type="button" role="tab">Itens</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="dominios-tab" data-bs-toggle="tab" data-bs-target="#dominios"
                            type="button" role="tab">Dominios</button>
                    </li>
                </ul>
                <div class="tab-content">
                    <!-- Informações -->
                    <div class="tab-pane fade show active" id="info" role="tabpanel">
                        <!-- Linha: Nome e LVL -->
                        <div class="row mb-2">
                            <div class="col-9">
                                <label>Nome do Personagem</label>
                                <input type="text" id="ficha-name" class="form-control" autocomplete="off">
                            </div>
                            <div class="col-3">
                                <label>LVL</label>
                                <input type="number" id="ficha-level" class="form-control" value="1" min="1">
                            </div>
                        </div>

                        <hr class="atributos-separador">

                        <!-- Linha: Ancestralidade e Comunidade -->
                        <div class="row mb-2">
                            <div class="col-6">
                                <label>Raça</label>
                                <select id="ficha-race" class="form-select"></select>
                            </div>
                            <div class="col-6">
                                <label>Comunidade</label>
                                <select id="ficha-community" class="form-select"></select>
                            </div>
                        </div>
                        <!-- Linha: Classe e Subclasse -->
                        <div class="row mb-2">
                            <div class="col-6">
                                <label>Classe</label>
                                <select id="ficha-class" class="form-select" onchange="updateSubclasses()"></select>
                            </div>
                            <div class="col-6">
                                <label>Subclasse</label>
                                <select id="ficha-subclass" class="form-select" disabled></select>
                            </div>
                        </div>
                    </div>
                    <!-- Atributos & Defesa -->
                    <div class="tab-pane fade" id="atributos" role="tabpanel">
                        <div class="atributos-grid">
                            <div class="atributo"><label>Agilidade</label><input type="number" id="attr-agi"
                                    class="form-control" value=""></div>
                            <div class="atributo"><label>Força</label><input type="number" id="attr-for"
                                    class="form-control" value=""></div>
                            <div class="atributo"><label>Finesse</label><input type="number" id="attr-fin"
                                    class="form-control" value=""></div>
                            <div class="atributo"><label>Instinto</label><input type="number" id="attr-inst"
                                    class="form-control" value=""></div>
                            <div class="atributo"><label>Presença</label><input type="number" id="attr-pre"
                                    class="form-control" value=""></div>
                            <div class="atributo"><label>Constituicao</label><input type="number" id="attr-con"
                                    class="form-control" value=""></div>
                        </div>

                        <hr class="atributos-separador">

                        <div class="evasao-armadura-container">
                            <div class="evasao-armadura-item">
                                <h5>Evasão</h5>
                                <input type="number" id="evasao" class="form-control" value="">
                            </div>
                            <div class="evasao-armadura-item">
                                <h5>Proficiência</h5>
                                <input type="number" id="proficiencia" class="form-control" value="">
                            </div>
                            <div class="evasao-armadura-item">
                                <h5>Dano</h5>
                                <input type="text" id="dano" class="form-control" value="" autocomplete="off">
                            </div>

                        </div>
                    </div>
                    <!-- Dano & Vida -->
                    <div class="tab-pane fade" id="dano" role="tabpanel">
                        <div class="grupo vida">
                            <h5>Danos & Vida</h5>
                            <div class="limiares-dano">
                                <span class="limiar">Menor <small>1 HP</small></span>
                                <input name="danoMenor" type="number" class="limiar-input">

                                <span class="limiar">Maior <small>2 HP</small></span>
                                <input name="danoMaior" type="number" class="limiar-input">

                                <span class="limiar">Severo <small>3 HP</small></span>
                            </div>

                            <hr class="atributos-separador">

                            <div class="recursos-container">
                                <div class="grupo">
                                    <label>Quantidade de HP</label>
                                    <input type="number" id="hpQtd" min="0" max="30" value="6"
                                        oninput="generateChecks('hpChecks', this.value)">
                                    <div class="check-group" id="hpChecks"></div>
                                </div>

                                <div class="grupo">
                                    <label>Quantidade de Armadura</label>
                                    <input type="number" id="armaduraQtd" min="0" max="30" value="6"
                                        oninput="generateChecks('armaduraChecks', this.value)">
                                    <div class="check-group" id="armaduraChecks"></div>
                                </div>

                                <div class="grupo">
                                    <label>Quantidade de Estresse</label>
                                    <input type="number" id="estresseQtd" min="0" max="30" value="6"
                                        oninput="generateChecks('estresseChecks', this.value)">
                                    <div class="check-group" id="estresseChecks"></div>
                                </div>

                                <div class="grupo esperanca">
                                    <label>Quantidade de Esperança</label>
                                    <input type="number" id="esperancaQtd" min="0" max="30" value="6"
                                        oninput="generateChecks('esperancaChecks', this.value)">
                                    <div class="check-group" id="esperancaChecks"></div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <!-- Recursos -->
                    <div class="tab-pane fade" id="recursos" role="tabpanel">
                        <div class="grupo recursos">
                            <h5>Experiências</h5>
                            <div class="exp-item">
                                <textarea id="experiencia1" placeholder="Experiência 1" class="exp-text"></textarea>
                                <input id="experiencia1-num" type="number" class="exp-num" min="0" max="10">
                            </div>
                            <div class="exp-item">
                                <textarea id="experiencia2" placeholder="Experiência 2" class="exp-text"></textarea>
                                <input id="experiencia2-num" type="number" class="exp-num" min="0" max="10">
                            </div>
                            <div class="exp-item">
                                <textarea id="experiencia3" placeholder="Experiência 3" class="exp-text"></textarea>
                                <input id="experiencia3-num" type="number" class="exp-num" min="0" max="10">
                            </div>
                            <div class="exp-item">
                                <textarea id="experiencia4" placeholder="Experiência 4" class="exp-text"></textarea>
                                <input id="experiencia4-num" type="number" class="exp-num" min="0" max="10">
                            </div>
                            <div class="exp-item">
                                <textarea id="experiencia5" placeholder="Experiência 5" class="exp-text"></textarea>
                                <input id="experiencia5-num" type="number" class="exp-num" min="0" max="10">
                            </div>
                        </div>

                        <hr class="atributos-separador">

                        <div class="grupo recursos">
                            <h5>Recursos</h5>
                            <div id="recursosText" class="mb-2" style="white-space: pre-line;"></div>
                        </div>
                    </div>
                    <!-- Itens -->
                    <div class="tab-pane fade" id="itens" role="tabpanel">
                        <div class="grupo itens">
                            <h5>Itens</h5>
                            <div class="item-field">
                                <label for="armadura">Armadura</label>
                                <textarea id="armadura" class="item-text"></textarea>
                            </div>
                            <div class="item-field">
                                <label for="armaPrincipal">Arma Principal</label>
                                <textarea id="armaPrincipal" class="item-text"></textarea>
                            </div>
                            <div class="item-field">
                                <label for="armaSecundaria">Arma Secundária</label>
                                <textarea id="armaSecundaria" class="item-text"></textarea>
                            </div>
                            <div class="item-field">
                                <label for="outrosItens">Outros Itens</label>
                                <textarea id="outrosItens" class="item-text" style="min-height: 120px;"></textarea>
                            </div>
                        </div>
                    </div>
                    <!-- dominios -->
                    <div class="tab-pane fade" id="dominios" role="tabpanel">

                        <div>
                            <h5>Cartas na Mão</h5>
                            <div id="cartas-mao" class="card-grid"></div>
                        </div>
                        <hr>

                        <!-- Cartas selecionadas -->
                        <h5>Cartas Selecionadas</h5>
                        <div id="cartas-selecionadas" class="card-grid"></div>

                        <hr>
                        <h5>Cartas Disponíveis</h5>
                        <!-- Filtros -->
                        <div class="filtros-dominio mb-3">
                            <select id="filtro-lvl" class="form-select">
                                <option value="">Todos os Níveis</option>
                                <option value="1">Nível 1</option>
                                <option value="2">Nível 2</option>
                                <option value="3">Nível 3</option>
                                <option value="4">Nível 4</option>
                                <option value="5">Nível 5</option>
                                <option value="6">Nível 6</option>
                                <option value="7">Nível 7</option>
                                <option value="8">Nível 8</option>
                                <option value="9">Nível 9</option>
                                <option value="10">Nível 10</option>
                            </select>

                            <select id="filtro-dominio" class="form-select mt-2">
                                <option value="">Todos os Domínios</option>
                                <option value="Arcano">Arcano</option>
                                <option value="Blade">Blade</option>
                                <option value="Bone">Bone</option>
                                <option value="Codex">Codex</option>
                                <option value="Dread">Dread</option>
                                <option value="Grace">Grace</option>
                                <option value="Midnight">Midnight</option>
                                <option value="Sage">Sage</option>
                                <option value="Splendor">Splendor</option>
                                <option value="Valor">Valor</option>
                            </select>
                        </div>

                        <!-- Cartas disponíveis -->
                        <div id="cartas-disponiveis" class="card-grid mb-4"></div>


                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 DaggerHeart Generator. Todos os direitos reservados.</p>
    </footer>

    <!-- Modais -->
    <div class="modal fade" id="modalFicha" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content" style="background-color:#292651; color:#fff; border:none;">
                <div class="modal-header border-0">
                    <h5 class="modal-title" id="modalTitle">Nova Ficha</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <label>Nome</label>
                    <input type="text" id="modal-name" class="form-control mb-2" autocomplete="off">
                    <label>URL da Imagem</label>
                    <input type="text" id="modal-url" class="form-control mb-2" placeholder="Endereço da imagem"
                        autocomplete="off">
                    <label>Ou escolha do dispositivo</label>
                    <input type="file" id="modal-file" class="form-control mb-2" accept="image/*">
                </div>
                <div class="modal-footer border-0">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" onclick="saveModalFicha()">Salvar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modalDelete" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content" style="background-color:#292651; color:#fff; border:none;">
                <div class="modal-header border-0">
                    <h5 class="modal-title">Deletar Ficha</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    Tem certeza que deseja deletar esta ficha?
                </div>
                <div class="modal-footer border-0">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-danger" id="confirmDelete">Deletar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Container para notificações -->
    <div id="toast-container"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/script.js"></script>
</body>

</html>